<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · GrowthMaps.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">GrowthMaps.jl</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a></li><li><a class="tocitem" href="example/">Examples</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/cesaraustralia/GrowthMaps.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="GrowthMaps.jl"><a class="docs-heading-anchor" href="#GrowthMaps.jl">GrowthMaps.jl</a><a id="GrowthMaps.jl-1"></a><a class="docs-heading-anchor-permalink" href="#GrowthMaps.jl" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="GrowthMaps.GrowthMaps" href="#GrowthMaps.GrowthMaps"><code>GrowthMaps.GrowthMaps</code></a> — <span class="docstring-category">Module</span></header><section><div><p><strong>GrowthMaps</strong></p><p><a href="https://cesaraustralia.github.io/GrowthMaps.jl/stable/"><img src="https://img.shields.io/badge/docs-stable-blue.svg" alt/></a> <a href="https://cesaraustralia.github.io/GrowthMaps.jl/dev/"><img src="https://img.shields.io/badge/docs-dev-blue.svg" alt/></a> <a href="https://travis-ci.org/cesaraustralia/GrowthMaps.jl"><img src="https://travis-ci.org/cesaraustralia/GrowthMaps.jl.svg?branch=master" alt="Build Status"/></a> <a href="http://codecov.io/github/cesaraustralia/GrowthMaps.jl?branch=master"><img src="http://codecov.io/github/cesaraustralia/GrowthMaps.jl/coverage.svg?branch=master" alt="codecov.io"/></a></p><p>GrowthMaps.jl produces gridded growth rates from gridded environmental data and process with growth and stress models, following the method outlined in Maino et al, <em>&quot;Forecasting the potential distribution of the invasive vegetable leafminer using ‘top-down’ and ‘bottom-up’ models&quot;</em> (in press).</p><p>These models can be added and combined arbitrarily.</p><p>For data input, this package leverages <a href="http://github.com/rafaqz/GeoData.jl"><code>GeoData.jl</code></a> to import stacks of environmental data from many different sources, loaded lazily in sequence to minimise memory use. </p><p>See the <a href="https://cesaraustralia.github.io/GrowthMaps.jl/docs/src/examples"><code>Examples</code></a> section in the documentation to get started.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cesaraustralia/GrowthMaps.jl/blob/1c3778d0b316ef9a7b75d6f87f49b01295eb8aa2/src/GrowthMaps.jl#L4-L26">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GrowthMaps.GrowthModel" href="#GrowthMaps.GrowthModel"><code>GrowthMaps.GrowthModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>The intrinsic rate of population growth is the exponential growth rate of a population when growth is not limited by density dependent factors.</p><p>More formally, if the change in population size <span>$N$</span> with time <span>$t$</span> is expressed as <span>$\frac{dN}{dt} = rN$</span>, then <span>$r$</span> is the intrinsic population growth rate (individuals per day per individual) which can be decomposed into per capita reproduction and mortality rate. The intrinsic growth rate parameter <span>$r$</span> depends strongly on temperature, with population growth inhibited at low and high temperatures (Haghani et al. 2006).</p><p>This can be described using a variety of non-linear functions, see <a href="#GrowthMaps.SchoolfieldIntrinsicGrowth"><code>SchoolfieldIntrinsicGrowth</code></a> for an implementation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cesaraustralia/GrowthMaps.jl/blob/1c3778d0b316ef9a7b75d6f87f49b01295eb8aa2/src/models.jl#L26-L39">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GrowthMaps.Layer" href="#GrowthMaps.Layer"><code>GrowthMaps.Layer</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Layer{K,U}(model::RateModel)
Layer(key::Symbol, model::RateModel)
Layer(key::Symbol, u::Union{Units,Quantity}, model::RateModel)</code></pre><p>Layers connect a model to a data source, providing the key to look up the layer in a GeoData.jl <code>GeoStack</code>, and specifying the scientific units of the layer, if it has units. Using units adds an extra degree of safety to your calculation, and allows for using data in different units with the same models.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cesaraustralia/GrowthMaps.jl/blob/1c3778d0b316ef9a7b75d6f87f49b01295eb8aa2/src/models.jl#L192-L202">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GrowthMaps.LowerStress" href="#GrowthMaps.LowerStress"><code>GrowthMaps.LowerStress</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">LowerStress(key::Symbol, threshold, mortalityrate)</code></pre><p>A <a href="#GrowthMaps.StressModel"><code>StressModel</code></a> where stress occurs below a <code>threshold</code> at a specified <code>mortalityrate</code> for some environmental layer <code>key</code>.</p><p>Independent variables must be in the same units as</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GrowthMaps.ModelWrapper" href="#GrowthMaps.ModelWrapper"><code>GrowthMaps.ModelWrapper</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Passed to an optimiser to facilitate fitting any <code>RateModel</code>, without boilerplate or methods rewrites.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cesaraustralia/GrowthMaps.jl/blob/1c3778d0b316ef9a7b75d6f87f49b01295eb8aa2/src/models.jl#L1-L4">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GrowthMaps.ModelWrapper-Tuple{Any,Any}" href="#GrowthMaps.ModelWrapper-Tuple{Any,Any}"><code>GrowthMaps.ModelWrapper</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Update the model with passed in params, and run [<code>rate</code>] over the independent variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cesaraustralia/GrowthMaps.jl/blob/1c3778d0b316ef9a7b75d6f87f49b01295eb8aa2/src/models.jl#L10-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GrowthMaps.RateModel" href="#GrowthMaps.RateModel"><code>GrowthMaps.RateModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A <code>RateModel</code> conatains the parameters to calculate the contribution of a growth or stress factor to the overall population growth rate.</p><p>A <a href="#GrowthMaps.rate"><code>rate</code></a> method corresponding to the model type must be defined specifying the formulation, and optionally a <a href="#GrowthMaps.condition"><code>condition</code></a> method to e.g. ignore data below thresholds.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cesaraustralia/GrowthMaps.jl/blob/1c3778d0b316ef9a7b75d6f87f49b01295eb8aa2/src/models.jl#L16-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GrowthMaps.SchoolfieldIntrinsicGrowth" href="#GrowthMaps.SchoolfieldIntrinsicGrowth"><code>GrowthMaps.SchoolfieldIntrinsicGrowth</code></a> — <span class="docstring-category">Type</span></header><section><div><p>SchoolfieldIntrinsicGrowth(p, ΔH<em>A, ΔH</em>L, ΔH<em>H, Thalf</em>L, Thalf<em>H, T</em>ref, R)</p><p>A <a href="#GrowthMaps.GrowthModel"><code>GrowthModel</code></a> where the temperature response of positive growth rate is modelled following Schoolfield et al. 1981, <em>&quot;Non-linear regression of biological temperature-dependent rate models base on absolute reaction-rate theory&quot;</em>.</p><p>The value of the specified data layer <em>must</em> be in Kelvin.</p><p><strong>Arguments</strong></p><ul><li><code>p::P</code>: growth rate at reference temperature <code>T_ref</code></li><li><code>ΔH_A</code>: enthalpy of activation of the reaction that is catalyzed by the enzyme, in cal/mol or J/mol.</li><li><code>ΔH_L</code>: change in enthalpy associated with low temperature inactivation of the enzyme.</li><li><code>ΔH_H</code>: change in enthalpy associated with high temperature inactivation of the enzyme.</li><li><code>T_halfL</code>: temperature (Unitful K) at which the enzyme is 1/2 active and 1/2 low temperature inactive.</li><li><code>T_halfH</code>: temperature (Unitful K) at which the enzyme is 1/2 active and 1/2 high temperature inactive.</li><li><code>T_ref</code>: Reference temperature in kelvin.</li></ul><p>This can be parameterised from empirical data, (see Zhang et al. 2000; Haghani et al. 2006; Chien and Chang 2007) and non-linear least squares regression.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GrowthMaps.StressModel" href="#GrowthMaps.StressModel"><code>GrowthMaps.StressModel</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Extreme stressor mortality can be assumed to occur once an environmental variable <span>$s$</span> exceeds some threshold (e.g. critical thermal maximum), beyond which the mortality rate scales approximately linearly with the depth of the stressor (Enriquez and Colinet 2017).</p><p>Stressor induced mortality is incorporated in growth rates by quantifying the <code>threshold</code> parameter <span>$s_c$</span> beyond which stress associated mortality commences, and the <code>mortalityrate</code> parameter <span>$m_s$</span> which reflects the per-capita mortality per stress unit, per time (e.g. degrees beyond the stress threshold per day).</p><p>When stressors are combined in a model, the mortality rate for each stressor <span>$s$</span> is incorporated as <span>$\frac{dN}{dt}=(r_p-r_n)N$</span> where <span>$r_n = \sum{s}f(s, c_s)m_s$</span> and <span>$f(s, c_s)$</span> is a function that provides the positive units by which s exceeds <span>$s_c$</span>.</p><p>This relies on the simplifying assumption that different stressors contribute additively to mortality rate, but conveniently allows the mortality response of stressors to be partitioned and calculated separately to the intrinsic growth rate, which aids parameterisation and modularity. More complicated stress responses are more likely to capture reality more completely, but the availability of data on detailed mortality responses to climatic stressors is often lacking.</p><p>Upper and lower stresses may be in relation to any environmental variable, specied with the <code>key</code> parameter, that will use the data at that key in <code>GeoStack</code> for the current timestep.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cesaraustralia/GrowthMaps.jl/blob/1c3778d0b316ef9a7b75d6f87f49b01295eb8aa2/src/models.jl#L42-L70">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GrowthMaps.UpperStress" href="#GrowthMaps.UpperStress"><code>GrowthMaps.UpperStress</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">UpperStress(key::Symbol, threshold, mortalityrate)</code></pre><p>A <a href="#GrowthMaps.StressModel"><code>StressModel</code></a> where stress occurs above a <code>threshold</code> at the specified <code>mortalityrate</code>, for some environmental layer <code>key</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/697e782ab86bfcdd7fd15550241fe162c51d9f98/base/#L0-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GrowthMaps.condition" href="#GrowthMaps.condition"><code>GrowthMaps.condition</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">condition(m, x)</code></pre><p>Subseting the data before applying the rate method, given the model <code>m</code> and the environmental variable of value x. Returns a boolean. If not defined, defaults to <code>true</code> for all values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cesaraustralia/GrowthMaps.jl/blob/1c3778d0b316ef9a7b75d6f87f49b01295eb8aa2/src/models.jl#L83-L89">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GrowthMaps.fit!-Tuple{ModelWrapper,AbstractArray}" href="#GrowthMaps.fit!-Tuple{ModelWrapper,AbstractArray}"><code>GrowthMaps.fit!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">fit!(model::ModelWrapper, obs::AbstractArray)</code></pre><p>Run <code>fit</code> on the contained model, and write the updated model to the mutable modelwrapper.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cesaraustralia/GrowthMaps.jl/blob/1c3778d0b316ef9a7b75d6f87f49b01295eb8aa2/src/fit.jl#L34-L39">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GrowthMaps.fit-Tuple{Any,AbstractArray}" href="#GrowthMaps.fit-Tuple{Any,AbstractArray}"><code>GrowthMaps.fit</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">fit(model, obs::AbstractArray)</code></pre><p>Fit a model to data with least squares regression, using <code>curve_fit</code> from LsqFit.jl. The passed in model should be initialised with sensible defaults, these will be used as the initial parameters for the optimization.</p><p>Any (nested) <code>Real</code> fields on the struct are flattened to a parameter vector using <a href="http://github.com/rafaqz/Flatten.jl">Flatten.jl</a>. Fields can be marked to ignore using the <code>@flattenable</code> macro from <a href="http://github.com/rafaqz/FieldMetadata.jl">FieldMetadata.jl</a>.</p><p><strong>Arguments</strong></p><ul><li><code>model</code>: Any constructed <a href="#GrowthMaps.RateModel"><code>RateModel</code></a> or a <code>Tuple</code> of <code>RateModel</code>.</li><li><code>obs</code>: <code>Vector</code> of observations, such as length 2 <code>Tuple</code>s of <code>Real</code>. Leave units off.</li></ul><p><strong>Returns</strong></p><p>An updated model with fitted parameters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cesaraustralia/GrowthMaps.jl/blob/1c3778d0b316ef9a7b75d6f87f49b01295eb8aa2/src/fit.jl#L10-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GrowthMaps.manualfit!-Tuple{ModelWrapper,NamedTuple{var&quot;#s29&quot;,var&quot;#s19&quot;} where var&quot;#s19&quot;&lt;:Tuple{Vararg{AbstractArray{T,1} where T,N} where N} where var&quot;#s29&quot;}" href="#GrowthMaps.manualfit!-Tuple{ModelWrapper,NamedTuple{var&quot;#s29&quot;,var&quot;#s19&quot;} where var&quot;#s19&quot;&lt;:Tuple{Vararg{AbstractArray{T,1} where T,N} where N} where var&quot;#s29&quot;}"><code>GrowthMaps.manualfit!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">manualfit!(wrapper::ModelWrapper, ranges::Array; obs=[],  kwargs...) =</code></pre><p>Returns the wrapper with the fitted model.</p><ul><li><code>obs</code>: A <code>Vector</code> of <code>(val, rate)</code> tuples/vectors</li><li><code>data</code>:</li></ul><p><strong>Example</strong></p><pre><code class="language-julia">p = 3e-01
ΔH_A = 3e4cal/mol
ΔH_L = -1e5cal/mol
ΔH_H = 3e5cal/mol
Thalf_L = 2e2K
Thalf_H = 3e2K
T_ref = K(25.0°C)
growthmodel = SchoolfieldIntrinsicGrowth(p, ΔH_A, ΔH_L, Thalf_L, ΔH_H, Thalf_H, T_ref)
model = ModelWrapper(Layer(:surface_temp, K, growthmodel))
obs = []

tempdata=(surface_temp=(270.0:0.1:310.0)K,)
manualfit!(model, tempdata; obs=obs)

To use the interface in a desktop app, use Blink.jl:
</code></pre><p>julia; eval=false using Blink w = Blink.Window() body!(w, interface) ```</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cesaraustralia/GrowthMaps.jl/blob/1c3778d0b316ef9a7b75d6f87f49b01295eb8aa2/src/fit.jl#L45-L77">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GrowthMaps.mapfit!-Tuple{ModelWrapper,Any}" href="#GrowthMaps.mapfit!-Tuple{ModelWrapper,Any}"><code>GrowthMaps.mapfit!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">mapfit!(wrapper::ModelWrapper, modelkwargs; occurrence=[], precomputed=nothing, kwargs...)</code></pre><p>Fit a model to the map.</p><p><strong>Example</strong></p><pre><code class="language-julia">wrapper = ModelWrapper(wiltstress, coldstress, heatstress)
throttle = 0.2
interface = mapfit!(wrapper, modelkwargs;
    occurrence=occurrence,
    precomputed=precomputed,
    throttle=throttle,
    markershape=:cross,
    markercolor=:lightblue,
    markeropacity=0.4
)
display(interface)</code></pre><p>To use the interface in a desktop app, use Blink.jl:</p><pre><code class="language-julia">using Blink
w = Blink.Window()
body!(w, interface)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cesaraustralia/GrowthMaps.jl/blob/1c3778d0b316ef9a7b75d6f87f49b01295eb8aa2/src/fit.jl#L89-L117">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GrowthMaps.mapgrowth-Tuple{ModelWrapper}" href="#GrowthMaps.mapgrowth-Tuple{ModelWrapper}"><code>GrowthMaps.mapgrowth</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">mapgrowth(layers; series::AbstractGeoSeries, tspan::AbstractRange)</code></pre><p>Combine growth rates accross layers and subperiods for all required periods.</p><p><strong>Arguments</strong></p><ul><li><code>layers</code>: <code>ModelWrapper</code> or Tuple of <code>Layer</code> components, which can also be passed in as individual args.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>series</code>: any AbstractGeoSeries from <a href="http://github.com/rafaqz/GeoData.jl">GeoData.jl</a></li><li><code>tspan</code>: <code>AbstractRange</code> for the timespan to run the layers for. This will be the index oof the output <code>Ti</code> dimension.</li></ul><p>The output is a GeoArray with the same dimensions as the passed in stack layers, and a Time dimension with a length of <code>nperiods</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cesaraustralia/GrowthMaps.jl/blob/1c3778d0b316ef9a7b75d6f87f49b01295eb8aa2/src/framework.jl#L1-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GrowthMaps.rate" href="#GrowthMaps.rate"><code>GrowthMaps.rate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">rate(m, x)</code></pre><p>Calculates the rate modifyer for a single cell. Must be defined for all models.</p><p><code>m</code> is the object containing the model parameters, and <code>x</code> is the value at a particular location for of an environmental variable specified by the models <code>key()</code> method, using corresponding to its <code>key</code> field.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/cesaraustralia/GrowthMaps.jl/blob/1c3778d0b316ef9a7b75d6f87f49b01295eb8aa2/src/models.jl#L73-L80">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="example/">Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 31 August 2020 05:11">Monday 31 August 2020</span>. Using Julia version 1.5.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
